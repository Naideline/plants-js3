(()=>{"use strict";const t={recommendedPlant:{},withPlantName(t){return this.recommendedPlant.name=t,this},withSoilType(t){return this.recommendedPlant.soilType=t,this},withPotMaterial(t){return this.recommendedPlant.potMaterial=t,this},withPotStyle(t){return this.recommendedPlant.potStyle=t,this},withPotColor(t){return this.recommendedPlant.potColor=t,this},addExtras(t){return this.recommendedPlant.extras=t,this},withImage(t){return this.recommendedPlant.image=t,this},withPotImage(t){return this.recommendedPlant.potImage=t,this},withSoilBagImage(t){return this.recommendedPlant.soilBagImage=t,this},withExtrasImages(t){return this.recommendedPlant.extrasImages=t,this},build(){return this.recommendedPlant}};function e(){document.getElementById("plantForm").reset(),document.getElementById("plantRecommendation").style.display="none"}async function n(){if(!function(){const t=document.getElementById("plantForm"),e=new FormData(t),n=["placement","sunlight","pets","watering","style"];for(const t of n)if(!e.get(t))return!1;return!0}())return void alert("Please fill in all the required fields before getting the plant recommendation.");const e=await async function(){try{const t=await fetch("./config.json");if(!t.ok)throw new Error("Failed to fetch data");return(await t.json()).plants}catch(t){return console.error(t),[]}}(),n=new FormData(document.getElementById("plantForm")),o=n.getAll("extra_elements");let i=-1,a=null;if(e.forEach((t=>{const e=function(t){let e=0;const o=n.get("placement");("inside_indirect"===o&&"Low Light Plant"===t.light||"inside_direct"===o&&"Medium Light Plant"===t.light||"outside"===o&&"Outdoor Plant"===t.light)&&e++;const i=n.get("sunlight");("yes"===i&&"Composted Soil"===t.soil||"no"===i&&"Fertilized Soil"===t.soil)&&e++;const a=n.get("pets");("yes"===a&&t.toxic||"no"===a&&!t.toxic)&&e++;const l=n.get("watering");("overwater"===l&&"Peace Lily"===t.name||"overwater"!==l&&"Peace Lily"!==t.name)&&e++;const r=n.get("style");return("minimalism"===r&&"Simple pot"===t.pot.style||"simple_decoration"===r&&"Simple pot decorated"===t.pot.style||"lots_decoration"===r&&"Painted pot decorated"===t.pot.style)&&e++,n.getAll("extra_elements").forEach((n=>{t.extras.includes(n)&&e++})),e}(t);e>i&&(i=e,a=t)})),!a)return void alert("No hay plantas que coincidan con tus preferencias. Por favor, intenta con diferentes opciones.");!function(t){var e;document.getElementById("plantName").textContent=(e=t.name).charAt(0).toUpperCase()+e.slice(1),document.getElementById("soilType").textContent=t.soilType,document.getElementById("potType").textContent=t.potMaterial,document.getElementById("potColor").textContent=t.potColor,document.getElementById("extrasList").textContent=t.extras.join(", "),document.getElementById("plantImage").src=t.image,document.getElementById("potImage").src=t.potImage,document.getElementById("soilBagImage").src=t.soilBagImage,document.getElementById("plantRecommendation").style.display="block"}(t.withPlantName(a.name).withSoilType(a.soil).withPotMaterial(a.pot.material).withPotStyle(a.pot.style).withPotColor(a.pot.color).withImage(a.image).withPotImage(a.pot.image).withSoilBagImage(a.soilBagImage).withExtrasImages(a.extras.map((t=>`images/${t}.png`))).addExtras(o).build())}document.getElementById("getButton").addEventListener("click",(function(){n()})),document.getElementById("clearButton").addEventListener("click",e),document.getElementById("getButton").addEventListener("click",(function(){n()})),document.getElementById("clearButton").addEventListener("click",e)})();